"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[717],{501:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(87),o=r(689),c=r(184),i=function(e){var t=e.id,r=e.src,i=e.title,a=e.vote,s=(0,o.TH)();return(0,c.jsxs)("li",{title:i,children:[(0,c.jsxs)(n.rU,{to:"/movies/".concat(t),state:{from:s},children:[(0,c.jsx)("img",{src:"https://image.tmdb.org/t/p/w500"+r,alt:i,width:"200"}),(0,c.jsx)("h1",{children:i})]}),(0,c.jsxs)("p",{children:["User score:",a]})]},t)},a=function(e){var t=e.movies;return(0,c.jsx)("ul",{children:t.map((function(e){var t=e.id,r=e.poster_path,n=e.title,o=e.vote_average,a=r||"./Image/default_picture.jpg";return(0,c.jsx)(i,{id:t,src:a,title:n,vote:o,children:n},t)}))})}},717:function(e,t,r){r.r(t),r.d(t,{Movies:function(){return m},default:function(){return g}});var n=r(439),o=r(791),c=r(87),i=r(861),a=r(757),s=r.n(a),u=r(388),l=function(){var e=(0,i.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat("https://api.themoviedb.org/","3/search/movie?api_key=").concat("d912e4e6ac5ac1e34c6318ab6e2c9716","&query=").concat(t,"&language=").concat("en-US","&page=").concat(1,"&include_adult=false"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=l,d=r(596),f=r(501),v=(r(462),r(705)),p=r(184),m=function(){var e=(0,o.useState)([]),t=(0,n.Z)(e,2),r=t[0],i=t[1],a=(0,o.useState)(""),s=(0,n.Z)(a,2),u=s[0],l=s[1],m=(0,c.lr)([]),g=(0,n.Z)(m,2),x=g[0],j=g[1];console.log(r),(0,o.useEffect)((function(){if(null!==x.get("searchMovie")){var e=x.get("searchMovie");h(e).then((function(e){if(0===e.results.length)return d.Am.warn("We couldn't find result on your request.",{position:"top-right",autoClose:3e3,theme:"colored"});i(e.results)})).catch((function(e){console.log(e)}))}}),[u,x]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(d.Ix,{}),(0,p.jsx)("div",{children:"Movies"}),(0,p.jsx)(v.J9,{children:(0,p.jsxs)(v.l0,{onSubmit:function(e){if(e.preventDefault(),""===u.trim())return d.Am.error("Field for searching is empty. Add information for request.",{position:"top-right",autoClose:3e3,theme:"colored"});j({searchMovie:u}),l("")},children:[(0,p.jsxs)("label",{children:["Search movie is here",(0,p.jsx)(v.gN,{type:"text",placeholder:"Search your favorite movie",name:"searchMovie",value:u,onChange:function(e){l(e.currentTarget.value.toLowerCase())}})]}),(0,p.jsx)("button",{type:"submit",children:"Search"})]})}),(0,p.jsx)(f.Z,{movies:r})]})},g=m}}]);
//# sourceMappingURL=717.b45a123a.chunk.js.map